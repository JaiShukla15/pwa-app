"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[14],{2014:(c,l,r)=>{r.r(l),r.d(l,{LoginComponent:()=>f});var o=r(95),s=r(3733),g=r(6814),t=r(4769),d=r(5504);function u(n,i){1&n&&(t.TgZ(0,"h2",23),t._uU(1,"Loading ....."),t.qZA())}let f=(()=>{class n{constructor(e,a,m){this.router=e,this.fb=a,this.api=m,this.loader=!1}ngOnInit(){this.api.isLogin()?this.router.navigate(["/dashboard"]):this.initializeForm()}initializeForm(){this.loginForm=this.fb.group({email:[null,[o.kI.required]],password:[null,[o.kI.required]]})}loginHandler(){if(this.loginForm.invalid)return alert("Please enter login details");this.loader=!0,this.api.login(this.loginForm.value).subscribe(e=>{if(e.message)return alert(e.message);e.token&&(localStorage.setItem("access-token",e.token),localStorage.setItem("refresh-token",e.refreshToken),localStorage.setItem("userId",e.userId),this.api.userId=localStorage.getItem("userId")),this.loader=!1,this.router.navigate(["/dashboard"])},e=>{console.log(e),this.loader=!1,alert(e.error.message)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.F0),t.Y36(o.qu),t.Y36(d.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[t.jDz],decls:32,vars:2,consts:[["class","text-center",4,"ngIf"],[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center",3,"formGroup","ngSubmit"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-50","mb-5"],[1,"form-outline","form-white","mb-4"],["type","email","id","typeEmailX","formControlName","email",1,"form-control","form-control-lg"],["for","typeEmailX",1,"form-label"],["type","password","formControlName","password","id","typePasswordX",1,"form-control","form-control-lg"],["for","typePasswordX",1,"form-label"],[1,"small","mb-5","pb-lg-2"],["href","#!",1,"text-white-50"],["type","submit",1,"btn","btn-outline-light","btn-lg","px-5"],[1,"d-flex","justify-content-center","text-center","mt-4","pt-1"],["href","#!",1,"text-white"],[1,"fab","fa-facebook-f","fa-lg"],[1,"fab","fa-twitter","fa-lg","mx-4","px-2"],[1,"fab","fa-google","fa-lg"],[1,"text-center"]],template:function(e,a){1&e&&(t.YNc(0,u,2,0,"h2",0),t.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),t.NdJ("ngSubmit",function(){return a.loginHandler()}),t.TgZ(7,"div",7)(8,"h2",8),t._uU(9,"Login"),t.qZA(),t.TgZ(10,"p",9),t._uU(11,"Please enter your login and password!"),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"input",11),t.TgZ(14,"label",12),t._uU(15,"Email"),t.qZA()(),t.TgZ(16,"div",10),t._UZ(17,"input",13),t.TgZ(18,"label",14),t._uU(19,"Password"),t.qZA()(),t.TgZ(20,"p",15)(21,"a",16),t._uU(22,"Forgot password?"),t.qZA()(),t.TgZ(23,"button",17),t._uU(24,"Login"),t.qZA(),t.TgZ(25,"div",18)(26,"a",19),t._UZ(27,"i",20),t.qZA(),t.TgZ(28,"a",19),t._UZ(29,"i",21),t.qZA(),t.TgZ(30,"a",19),t._UZ(31,"i",22),t.qZA()()()()()()()()()),2&e&&(t.Q6J("ngIf",a.loader),t.xp6(6),t.Q6J("formGroup",a.loginForm))},dependencies:[g.ez,g.O5,s.Bz,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u]}),n})()}}]);